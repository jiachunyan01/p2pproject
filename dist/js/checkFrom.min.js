"use strict";$(function(){$("#regForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名必填不能为空"},stringLength:{min:6,max:12,message:"用户名长度在6到12为之间"}}},password:{message:"密码验证失败",validators:{notEmpty:{message:"密码必填不能为空"},stringLength:{min:6,max:12,message:"密码长度在6到12为之间"}}},checkPwd:{message:"密码验证失败",validators:{notEmpty:{message:"请再次填写密码"},stringLength:{min:6,max:12,message:"确认密码长度在6到12为之间"},identical:{field:"password",message:"两次输入的密码不一致"}}},mobile:{message:"手机号验证失败",validators:{notEmpty:{message:"手机号必填不能为空"},regexp:{regexp:/^((1[358][0-9])|(14[57])|(17[0678])|(19[7]))\d{8}$/,message:"手机号码格式不正确"}}},email:{message:"邮箱验证失败",validators:{notEmpty:{message:"邮箱必填不能为空"},emailAddress:{message:"电子邮件格式不正确"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/userAdd.php",a,function(e){console.log(e),e.isSuccess?(alert(e.message),location.href="./login.php"):alert(e.message)},"json")}),$("#loginForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名必填不能为空"},stringLength:{min:6,max:12,message:"用户名长度在6到12为之间"}}},password:{message:"密码验证失败",validators:{notEmpty:{message:"密码必填不能为空"},stringLength:{min:6,max:12,message:"密码长度在6到12为之间"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/userCheck.php",a,function(e){if(console.log(e),e.isSuccess){$("#myModalLabel").text("登陆成功"),$("#msgContent").html("<span class='glyphicon glyphicon-ok'>\n                    </span>".concat(e.message,",等待<span id='num'>5</span>跳转到个人中心页面~~~"));var s=5,a=setInterval(function(){s--,$("#num").text(s),0==s&&(clearInterval(a),location.href="./personal.php")},1e3)}else $("#myModalLabel").text("登陆失败"),$("#msgContent").html("<span class='glyphicon glyphicon-remove'></span>"+e.message);$("#myModal").modal("show")},"json")})});